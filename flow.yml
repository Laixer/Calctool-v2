---
# Calculation Flow Record
name: calculation
locale: [nl,en]
load: true
features:
    - cloud
    - copy
inject:
    - project
description:
    Calculation is the default flow for large
    and advanced projects.

components:
    - details: &default
        order: 1
        url: details
        controller: Detail
        preload: true
        description: >
          project details and basic insights

    - calculation:
        controller: Calculation

    - quotations: &base_quotation
        name: quotations
        preload: true
        controller: Quotation

    - quotations/new:
        <<: *base_quotation
        controller: QuotationNew

    - quotations/report:
        <<: *base_quotation
        controller: QuotationReport

    - estimate:
        guard:
          not_before: [details,calculation,quotations]
        controller: Estimate

    - less:
        guard:
          not_before: [details,calculation,quotations]
        controller: Less

    - more:
        guard:
          not_before: [details,calculation,quotations]
        controller: More

    - invoices:
        guard:
          not_before: [details,calculation,quotations]
        controller: Invoice

    - result:
        guard:
          not_before: [details,calculation,quotations]
        controller: Result

default: *default
